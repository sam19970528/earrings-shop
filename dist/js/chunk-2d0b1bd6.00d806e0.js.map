{"version":3,"sources":["webpack:///./src/components/pages/coupon.vue?b040","webpack:///src/components/pages/coupon.vue","webpack:///./src/components/pages/coupon.vue?81c3","webpack:///./src/components/pages/coupon.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","staticClass","click","opencoupon","_v","_m","_l","item","key","id","_s","title","percent","due_date","is_enabled","_e","staticStyle","margin-right","delcoupon","tabindex","role","aria-labelledby","aria-hidden","for","directives","name","rawName","value","tempcoupon","expression","type","domProps","input","target","composing","$set","min","max","step","model","callback","$$v","unchecked-value","newcoupon","staticRenderFns","width","data-dismiss","aria-label","couponvue_type_script_lang_js_","data","coupons","isNew","newDate","test","methods","Object","assign","jquery_default","modal","getcoupon","page","arguments","length","undefined","vm","api","concat","$http","get","then","response","console","log","_api","post","put","res","success","delete","created","pages_couponvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0b1bd6.00d806e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"text-right mt-4\"},[_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":function($event){return _vm.opencoupon(true)}}},[_c('span',[_vm._v(\"建立新優惠券\")])])]),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.coupons),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.percent))]),_c('td',[_vm._v(_vm._s(item.due_date))]),_c('td',[(item.is_enabled===1)?_c('label',{staticClass:\"text-success\"},[_vm._v(\"啟用\")]):_vm._e(),(item.is_enabled===0)?_c('label',{staticClass:\"text-danger\"},[_vm._v(\"未啟用\")]):_vm._e()]),_c('td',[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":function($event){return _vm.opencoupon(false,item)}}},[_vm._v(\"編輯\")]),_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":function($event){return _vm.delcoupon(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),0)]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"exampleModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"recipient-name\"}},[_vm._v(\"標題\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempcoupon.title),expression:\"tempcoupon.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"recipient-name\"},domProps:{\"value\":(_vm.tempcoupon.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempcoupon, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"recipient-name\"}},[_vm._v(\"優惠碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempcoupon.code),expression:\"tempcoupon.code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"recipient-name\"},domProps:{\"value\":(_vm.tempcoupon.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempcoupon, \"code\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"recipient-name\"}},[_vm._v(\"到期日\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempcoupon.due_date),expression:\"tempcoupon.due_date\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"id\":\"date\"},domProps:{\"value\":(_vm.tempcoupon.due_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempcoupon, \"due_date\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"recipient-name\"}},[_vm._v(\"折扣百分比\")]),_c('b-form-input',{attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"100\",\"step\":\"1\",\"id\":\"recipient-name\"},model:{value:(_vm.tempcoupon.percent),callback:function ($$v) {_vm.$set(_vm.tempcoupon, \"percent\", $$v)},expression:\"tempcoupon.percent\"}}),_c('span',[_vm._v(_vm._s(_vm.tempcoupon.percent))])],1),_c('div',{staticClass:\"form-group\"},[_c('b-checkbox',{attrs:{\"value\":1,\"unchecked-value\":0,\"name\":\"\",\"id\":\"\"},model:{value:(_vm.tempcoupon.is_enabled),callback:function ($$v) {_vm.$set(_vm.tempcoupon, \"is_enabled\", $$v)},expression:\"tempcoupon.is_enabled\"}},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"recipient-name\"}},[_vm._v(\"是否啟用\")])])],1)])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.newcoupon}},[_vm._v(\"送出\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"width\":\"250\"}},[_vm._v(\"名稱\")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"折扣百分比\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"到期日\")]),_c('th',{attrs:{\"width\":\"70\"}},[_vm._v(\"是否啟用\")]),_c('th',{attrs:{\"width\":\"70\"}},[_vm._v(\"編輯\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"新優惠券\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"text-right mt-4\">\r\n      <button class=\"btn btn-dark\" @click=\"opencoupon(true)\">\r\n          \r\n        <span>建立新優惠券</span>\r\n      </button>\r\n    </div>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <th width=\"250\">名稱</th>\r\n        <th width=\"100\">折扣百分比</th>\r\n        <th width=\"120\">到期日</th>\r\n        <th width=\"70\">是否啟用</th>\r\n        <th width=\"70\">編輯</th>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in coupons\" :key=\"item.id\">\r\n          <td>{{item.title}}</td>\r\n          <td>{{item.percent}}</td>\r\n          <td>{{item.due_date}}</td>\r\n          <td>\r\n            <label class=\"text-success\" v-if=\"item.is_enabled===1\">啟用</label>\r\n            <label class=\"text-danger\" v-if=\"item.is_enabled===0\">未啟用</label>\r\n          </td>\r\n          <td>\r\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"opencoupon(false,item)\"\r\n            style=\"margin-right:10px;\">編輯</button>\r\n            <button\r\n                  class=\"btn btn-outline-danger\"\r\n                  @click=\"delcoupon(item.id)\"\r\n                >\r\n                  <i class=\"far fa-trash-alt\"></i>\r\n                </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"exampleModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">新優惠券</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form>\r\n              <div class=\"form-group\">\r\n                <label for=\"recipient-name\" class=\"col-form-label\">標題</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  v-model=\"tempcoupon.title\"\r\n                  id=\"recipient-name\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"recipient-name\" class=\"col-form-label\">優惠碼</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  v-model=\"tempcoupon.code\"\r\n                  id=\"recipient-name\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"recipient-name\" class=\"col-form-label\">到期日</label>\r\n                <input\r\n                  type=\"date\"\r\n                  class=\"form-control\"\r\n                  v-model=\"tempcoupon.due_date\"\r\n                  id=\"date\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"recipient-name\" class=\"col-form-label\">折扣百分比</label>\r\n                <b-form-input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  step=\"1\"\r\n                  class=\"\"\r\n                  v-model=\"tempcoupon.percent\"\r\n                  id=\"recipient-name\"\r\n                ></b-form-input>\r\n                <span>{{tempcoupon.percent}}</span>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <b-checkbox\r\n                \r\n                  v-model=\"tempcoupon.is_enabled\"\r\n                  :value='1'\r\n                  :unchecked-value='0'\r\n                  name\r\n                  id\r\n                >\r\n                <label for=\"recipient-name\" class=\"col-form-label\">是否啟用</label>\r\n                </b-checkbox>\r\n                \r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"newcoupon\">送出</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      coupons: [],\r\n      tempcoupon: {\r\n      },\r\n      isLoading: false,\r\n      isNew: '',\r\n      newDate:0,\r\n      test:\"2019-07-30\"\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    opencoupon(isNew, item) {\r\n      if (isNew) {\r\n        this.tempcoupon = {};\r\n        this.isNew = true;\r\n      } else {\r\n        this.tempcoupon = Object.assign({}, item);\r\n        this.isNew = false;\r\n      }\r\n      $(\"#exampleModal\").modal(\"show\");\r\n    },\r\n    getcoupon(page = 1) {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupons?page=${page}`;\r\n      vm.isLoading = true;\r\n      this.$http.get(api).then(response => {\r\n        vm.isLoading = false;\r\n        console.log(response.data);\r\n        vm.coupons = response.data.coupons;\r\n      });\r\n    },\r\n    newcoupon() {\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      if (!vm.isNew) {\r\n        const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon/${vm.tempcoupon.id}`;\r\n        this.$http.put(api, { data: vm.tempcoupon }).then(res => {\r\n          if (res.data.success) {\r\n            $(\"#exampleModal\").modal(\"hide\");\r\n          }\r\n          vm.getcoupon();\r\n          console.log(res.data);\r\n          vm.isLoading = false;\r\n        });\r\n      }\r\n    else{\r\n        const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon`;\r\n      this.$http.post(api, { data: vm.tempcoupon }).then(response => {\r\n        $(\"#exampleModal\").modal(\"hide\");\r\n        vm.isLoading = false;\r\n        vm.getcoupon();\r\n        console.log(response.data);\r\n      });\r\n\r\n        }\r\n    },\r\n    delcoupon(id){\r\n        const vm=this;\r\n        const api=`${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon/${id}`;\r\n        vm.isLoading=true\r\n        this.$http.delete(api).then((res)=>{\r\n            if(res.data.success){\r\n                vm.isLoading=false\r\n                vm.getcoupon();\r\n            }\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    this.getcoupon();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./coupon.vue?vue&type=template&id=6426c062&\"\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}